<addon id="plugin.video.stalkervod.tmdb" name="Stalker VOD Client + TMDB" version="0.0.9" provider-name="ReichiMD">
	<requires>
		<import addon="xbmc.python" version="3.0.1"/>
		<import addon="script.module.requests" version="2.27.1"/>
	</requires>
	<extension point="xbmc.python.pluginsource" library="addon_entry.py">
		<provides>video</provides>
	</extension>
	<extension point="xbmc.service" library="service_entry.py"/>
	<extension point="xbmc.addon.metadata">
		<reuselanguageinvoker>true</reuselanguageinvoker>
		<platform>all</platform>
		<summary lang="en_GB">Stalker VOD Client with TMDB metadata</summary>
		<description lang="en_GB">Kodi Stalker client for accessing on demand videos and channels from Stalker middleware. Extended with TMDB metadata (posters, fanart, ratings).</description>
		<license>GPL-3.0-or-later</license>
		<language>en</language>
		<source>https://github.com/ReichiMD/Stalker-vod-Client-tmdb</source>
		<website>https://github.com/ReichiMD/Stalker-vod-Client-tmdb</website>
		<assets>
			<icon>resources/media/icon.png</icon>
			<screenshot>resources/media/screenshot_1.png</screenshot>
			<screenshot>resources/media/screenshot_2.png</screenshot>
			<screenshot>resources/media/screenshot_3.png</screenshot>
			<screenshot>resources/media/screenshot_4.png</screenshot>
		</assets>
		<news>
v0.0.9  (2026-02-19)
- Fix: Search category dialog now shows only visible (filtered) folders.
  Hidden folders (blocked by keyword or manual filter) no longer appear
  in the search group selection popup.
- New: "Alle Kategorien" is the first and default option in the search
  group dialog – just confirm to search across all visible folders.
- Fix: "Alle Kategorien" search now only queries folders that pass the
  active folder filter. Result: no more content from hidden language
  groups (e.g. Turkish, English) when keyword filter is active.
  Searches each visible folder individually and combines results.

v0.0.8  (2026-02-19)
- Fix: folder filter mode selector replaced. type="integer" with spinner
  and labeled options is not valid in Kodi 21 settings version="1" (missing
  "format" attribute causes setting to be silently dropped, filter stays off).
  Replaced with two type="boolean" toggles: "Stichwörter-Filter aktiv"
  and "Manuelle Auswahl aktiv". Manual selection takes priority when
  both are enabled. Same approach as the type="action" fix in v0.0.5.

v0.0.7  (2026-02-19)
- Fix: "Alle Daten aktualisieren" respects the folder filter now.
  Only folders that pass the active filter (keywords or manual selection)
  are refreshed – skipping hidden folders saves significant time.

v0.0.6  (2026-02-19)
- New: "Ordner-Filter" settings section to hide unwanted folders.
  Three modes: Off (show all), Keywords (show folders whose name contains
  any of the listed words, e.g. "de, deutsch, german, multi"), and
  Manual selection (open a checklist and tick exactly which folders appear).
  Works for VOD, Series and TV genres independently.
- Filter runs immediately after the fast category API call – no extra
  loading time, TMDB is never involved at this stage.

v0.0.5  (2026-02-19)
- Fix: "Data management" group was invisible in Kodi settings. Root cause:
  type="action" with <action>RunPlugin()</action> is not valid in Kodi 21
  settings format version="1". The refresh trigger is now a boolean toggle
  that resets itself automatically after the service runs the refresh.

v0.0.4  (2026-02-19)
- Initial setup wizard: after entering server address and MAC address the
  addon automatically asks to pre-fetch all VOD data (Yes/No dialog).
  Runs only once; can be re-triggered via the "Refresh all data" button.
- German UI: full German translation added (resource.language.de_de).
  Kodi automatically uses it when the interface language is set to German.
- Settings: fixed duplicate group/setting label for "Load all pages".
  The data management group now has its own label ("Datenverwaltung").

v0.0.3  (2026-02-19)
- New setting "Load all pages at once": fetches all server pages in one
  listing call instead of paginating (TiviMate-style). Recommended when
  TMDB is disabled for fast full-category browsing.
- New button "Refresh all data": pre-fetches every VOD and Series category
  with a progress dialog. Warms the TMDB cache so all subsequent browsing
  is instant. Cancellable at any time.
- TMDB API key is preserved when TMDB is disabled (only greyed out in UI).

v0.0.2  (2026-02-18)
- Performance: TmdbClient is now a singleton per plugin run – cache file
  is loaded from disk once instead of once per list item.
- Performance: TMDB cache writes are now batched – one disk write per
  listing page instead of one per film.

v0.0.1  (2026-02-18)
- Fork of plugin.video.stalkervod v1.2.0 by rickeylohia (GPL-3.0)
- Added TMDB metadata integration: posters, fanart, plot and ratings
  for VOD and Series listings via The Movie Database API.
- New settings tab: TMDB API key, language and enable/disable toggle.
- Results cached locally (30-day expiry) to minimise API calls.
- Sets tmdb unique ID on ListItems for TMDb Helper addon compatibility.
		</news>
	</extension>
</addon>
